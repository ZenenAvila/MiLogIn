<!DOCTYPE html>
    <head>
        <title>Gestion de usuarios</title>
        <link rel="stylesheet" href="css/estilos.css" />
    </head>
    <body>
        <div id="results">
            <div id="cabecera">
                LogIn
                <span id="tagline">Gestion de usuarios</span>
                <br><br><br>
                <form id="form" method="POST">
                    <table class="table table-striped">
                        <tr>
                            <td>
                            <input type="text" id="id" placeholder="Id"/>
                        </td>
                        </tr>
                        <tr>
                            <td>
                            <input type="text" id="nombre" placeholder="Nombre"/>
                        </td>
                        </tr>
                        <tr>
                            <td>
                            <input type="text" id="apellidos" placeholder="Apellidos"/>
                        </td>
                        </tr>
                        <tr>
                            <td>
                                <input type="text" id="password" placeholder="Password"/>
                            </td>
                            <td>
                                <input type="submit" id="mostrar" value="Mostrar"/>
                            </td>
                        </tr>                    
                    </table>
                </form>
            </div>
            
        </div>
    </body>
    <script language="javaScript">

        var form = document.getElementById('form')

        form.addEventListener('submit',function(e){
            e.preventDefault()

            var id = document.getElementById('id').value
            var nombre = document.getElementById('nombre').value
            var apellidos = document.getElementById('apellidos').value
            var password = document.getElementById('password').value

            fetch('https://loginzenen.herokuapp.com/api/mostrar')
            
        .then(function(response){
            return response.json()
        })
        .then(function(data){
            console.log(data)
            var results = document.getElementById('results')
            var tabla=`
            <div id="usuarios">
            <table class="table">               
                <tr>
                    <td>
                        Cantidad: ${data.length}
                    </td>
                </tr>
                <tr>
                    
                    <td><b>Id</b></td>
                    <td><b>Nombre</b></td>
                    <td><b>Apellidos</b></td>
                    <td><b>Password</b></td> 
                    
                </tr> `

            for(var i=0;i<data.length;i++){
            tabla+= `<tr>
                            <td>${data[i].id}</td>
                            <td>${data[i].nombre}</td>
                            <td>${data[i].apellidos}</td>
                            <td>${data[i].password}</td>
                        <tr>`;
                        }
                        
            tabla+=`</table>`;
            results.innerHTML+=tabla            

             results.innerHTML+=`
             </div> 
             
             <div id=footer>
                Zenén Ávila Suárez
            </div>
             `
        })
    })     
    </script>
</html>